const a=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}};a();const c=[{name:"Cassels Milk Stou",description:"Cassels & Sons Brewing. Cerveza porter y stout.",price:75e3,img:"cassels.png",filterId:1},{name:"Camba Pale Ale",description:"La Souche Franc-Bois d\u2019hiver. Cerveza pale.",price:85300,img:"camba.png",filterId:2},{name:"Votus N\xBA 001",description:"India Pale Ale del a\xF1o 2019. N\xBA 001 Red IPA.",price:75e3,img:"votus.png",filterId:3},{name:"Prairie Artisian",description:"Ales Prairie Noir Whiskey Barrel Aged Imperial Stout 12oz.",price:85300,img:"prairie-artisian.png",filterId:1},{name:"Lost Abbey",description:"The Lost Abbey Citrus Sin American Wild Ale 750ml.",price:75e3,img:"lost-abbey.png",filterId:2},{name:"Prairie",description:"Prairie Artisa Ales Paradise Imperial Stout 12oz.",price:85300,img:"prairie.png",filterId:3},{name:"Redrice",description:"Hitachino Nest Beer Red Rice Ale 330ml.",price:85300,img:"redrice.png",filterId:1},{name:"Cascade",description:"Cascade Brewing 2017 Brunch Line BA NORTHWEST Sour Ale.",price:175e3,img:"cascade.png",filterId:2},{name:"Topa Topa",description:"Topa Topa BREWING CO. 5th Year Anniversary clear Ipa 16oz.",price:85300,img:"topa.png",filterId:3},{name:"Mira Brune N\xBA 6",description:"Brown Ale, Brown Mira American Style.",price:375e3,img:"mira.png",filterId:1}],n={products:c},d=Intl.NumberFormat("es-CO",{style:"currency",currency:"COP"}),p=`
<div class='product'>
  <div class='image-container'>
    <img src='/assets/images/{{ product.img }}' class='product-image' alt='{{ product.name }}-image' />
  </div>
  <p class='product-name'>{{ product.name }}</p>
  <p class='product-description'>{{ product.description }}</p>
  <p class='product-price'>{{ product.price }}</p>
  <button class='product-add'>agregar</button>
</div>
`,u={1:!1,2:!1,3:!1};class m{constructor(){this.rawProducts=n,this.formattedProducts=this.formatProducts(),this.productTemplate=p,this.filterOptions=u,this.localStorage=window.localStorage,this.dispatchMethods()}dispatchMethods(){this.initModalEvents(),this.setStateFromLocalStorage(),this.watchFilters(),this.watchApplyFilters(),this.watchRemoveFilters()}formatProducts(){return this.rawProducts.products.map(t=>({...t,price:d.format(Number(t.price))}))}renderProducts(e=void 0){const t=e||this.formattedProducts;var s=Handlebars.compile(this.productTemplate);const r=document.getElementById("products-list");let i="";Array.from(t).forEach(o=>{i+=s({product:o})}),r.innerHTML=i}initModalEvents(){const e=document.querySelector("[data-modal]");e.addEventListener("click",t=>{t.preventDefault();const s=document.getElementById(e.dataset.modal);s.classList.contains("open")||(s.classList.add("open"),s.classList.remove("close")),s.classList.add("open"),s.querySelectorAll(".modal-exit").forEach(i=>{i.addEventListener("click",o=>{o.preventDefault(),s.classList.contains("open")&&(s.classList.remove("open"),s.classList.add("close"),this.setStateFromLocalStorage())})})})}closeFilterModal(){const e=document.getElementById(document.querySelector("[data-modal]").dataset.modal);e.classList.contains("open")&&(e.classList.remove("open"),e.classList.add("close"))}watchFilters(){document.querySelectorAll("[data-filter-option]").forEach(t=>{t.addEventListener("change",s=>{s.preventDefault(),this.filterOptions[t.dataset.filterOption]=t.checked,this.updateDialogFilterButtons()})})}updateDialogFilterButtons(){const e=document.querySelectorAll(".filters-selected-label"),t=document.querySelector(".clean-filters"),s=Object.values(this.filterOptions).filter(r=>r).length;s>=1?e.forEach(r=>{r.classList.add("visible"),r.innerText=s,t.classList.add("enabled")}):e.forEach(r=>{r.classList.remove("visible"),r.innerText="",t.classList.remove("enabled")})}getActiveFilters(){return Object.keys(this.filterOptions).filter(e=>Boolean(this.filterOptions[e]))}watchApplyFilters(){document.getElementById("apply-filters").addEventListener("click",t=>{t.preventDefault(),this.filterProducts()})}filterProducts(){const e=this.formattedProducts,t=this.getActiveFilters();let s=[];t.length?s=e.filter(r=>t.includes(String(r.filterId))):s=e,this.saveFiltersInLocalStorage(),this.renderProducts(s),this.closeFilterModal()}watchRemoveFilters(){document.getElementById("clean-filters").addEventListener("click",t=>{t.preventDefault(),this.getActiveFilters().length&&(this.removeFilters(),this.updateDialogFilterButtons())})}removeFilters(){document.querySelectorAll("[data-filter-option]").forEach(t=>{this.filterOptions[t.dataset.filterOption]=!1,t.checked=!1}),this.cleanFiltersFromLocalStorage(),this.renderProducts(),this.closeFilterModal()}checkFilterInputs(){document.querySelectorAll("[data-filter-option]").forEach(t=>{this.filterOptions[t.dataset.filterOption]?t.checked=!0:t.checked=!1})}saveFiltersInLocalStorage(){this.localStorage.setItem("filters",JSON.stringify(this.getActiveFilters()))}getFiltersFromLocalStorage(){return JSON.parse(this.localStorage.getItem("filters"))}cleanFiltersFromLocalStorage(){this.localStorage.clear()}setStateFromLocalStorage(){const e=this.getFiltersFromLocalStorage();e&&e.length>0?(e.forEach(t=>{this.filterOptions[String(t)]=!0}),this.checkFilterInputs(),this.updateDialogFilterButtons(),this.filterProducts()):this.renderProducts()}}new m;
